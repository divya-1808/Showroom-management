MAIN MODULE :

#include "booking.h"
#include "stock.h"
#include "employee.h"
#include<stdio.h>
#include<string.h>
#include <stdlib.h>
#include<time.h>
int main()
{
   int choice,i;char user[10];
   char pass[30];
   printf("************************************************************************************************************************\n\n");
   printf("\t\t\t\t\t\t ***VSG KTM***\n\n\n");\
   time_t t;   // not a primitive datatype
   time(&t);
   printf("\t\t\t\t\t\t\t\t\t\t\t  	%s", ctime(&t));
   printf("________________________________________________________________________________________________________________________\n");



printf("   ______________¶_____\n");
printf("________________¶¶¶____ \n");
printf("_______________¶¶¶¶¶___\n");
printf("_______________¶¶¶¶¶___\n");
printf("______________¶¶¶_¶¶¶__\n");
printf("______________¶¶¶__¶¶__\n");
printf("______________¶¶___¶¶¶_\n");
printf("_____________¶¶¶¶_¶¶¶¶¶______\n");
printf("¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶__¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶\n");
printf("¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶_¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶\n");
printf("__¶¶¶¶_________¶¶¶¶¶¶__________¶¶¶\n");
printf("____¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶\t\t\t\t\t\tCreated by:(*HACK O’ HOLICS*)\n");
printf("_____¶¶¶¶¶¶¶¶¶¶¶_¶_¶_¶¶¶¶¶¶¶¶¶\t\t\t\t\t\t\t\t*Aswin Karthik\n");
printf("________¶¶¶¶¶¶¶__¶¶¶_¶¶¶¶¶¶__\t\t\t\t\t\t\t\t*Joshua Joseph PS\n");
printf("_________¶¶¶¶¶_¶¶¶¶¶¶__¶¶¶___\t\t\t\t\t\t\t\t*Sabari RS\n");
printf("_________¶¶¶__¶¶¶¶¶¶¶¶_¶¶¶___\t\t\t\t\t\t\t\t*Padmanaban P\n");
printf("_________¶¶__¶¶¶¶¶¶¶¶¶¶__¶¶__\t\t\t\t\t\t\t\t*Suriya Prakash A\n");
printf("________¶¶¶_¶¶¶¶¶¶¶¶¶¶¶_¶¶¶__\t\t\t\t\t\t\t\t*Rekha R\n");
printf("_______¶¶¶_¶¶¶¶¶___¶¶¶¶¶¶_¶¶_\t\t\t\t\t\t\t\t*Divya dharshini\n");
printf("_______¶¶¶¶¶¶_________¶¶¶¶¶¶_\n");
printf("______¶¶¶¶¶_____________¶¶¶¶¶\n");
printf("______¶¶¶__________________¶¶¶\n");


   printf("\t\t\t\t\t\tLOADING LOGIN SCREEN");
 for(i=0;i<9900000;i++)
               	{
                	printf("......");
                	printf("\b\b\b\b\b\b");
               	}

system("clear");
printf("-------------------------------¦¦¦\n");
printf("------------------------------¦¦¦¦¦\n");
printf("---------------------¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦\n");
printf("------------------¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦\n");
printf("-----------------¦¦¦¦¦¦¦¦¦¦¦¦¦-¦¦¦¦-¦\n");
printf("----------------¦¦¦¦¦¦¦¦¦¦¦¦¦---¦\n");
printf("-----------¦----¦¦¦¦¦¦¦----¦¦¦\n");
printf("-----------¦¦¦¦--¦¦¦¦¦¦----¦¦¦¦\n");
printf("------------¦¦¦¦¦-¦¦¦¦¦¦-----¦¦¦\n");
printf("------------¦¦¦¦¦¦¦¦¦¦¦¦------¦¦¦¦\n");
printf("-----¦¦¦¦¦---¦¦¦¦¦¦¦¦¦¦¦¦-------¦¦¦\n");
printf("---¦¦¦¦¦¦¦¦¦--¦¦¦¦¦¦¦¦¦¦-----¦--¦¦\n");
printf("-¦¦¦¦¦---¦¦¦¦--¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦\n");
printf("¦¦¦¦--¦¦---¦¦¦--¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦\n");
printf("¦¦¦--¦¦¦¦¦--¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦\n");
printf("¦¦¦--¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦\n");
printf("¦¦¦¦--¦¦¦--¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦\n");
printf("-¦¦¦¦----¦¦¦¦--¦¦¦¦¦¦¦¦¦¦¦¦¦¦¦--¦¦----¦¦\n");
printf("---¦¦¦¦¦¦¦¦¦---¦--¦¦¦¦¦¦¦¦¦-----¦¦\n");
printf("-----¦¦¦¦------------¦¦¦¦¦----¦¦¦¦¦¦\n");
printf("------------------------¦---¦¦¦¦¦¦¦¦¦¦\n");
printf("----------------------------¦¦¦--¦¦--¦¦¦\n");
printf("--------------------------¦¦¦---¦¦¦---¦¦\n");
printf("--------------------------¦¦--¦¦¦¦¦¦--¦¦\n");
printf("--------------------------¦¦---¦¦¦¦¦--¦¦\n");
printf("--------------------------¦¦¦---¦¦¦---¦¦\n");
printf("---------------------------¦¦¦¦-----¦¦¦-\n");
printf("-----------------------------¦¦¦¦¦¦¦¦¦--\n");

printf("\n");
while(1){
printf("\t\t\t\t\tEnter user: ");
scanf("%s",user);
 if(strcmp(user,"admin")==0)
   {
   	printf("\n\t\t\t\t\tEnter the password: ");
   	scanf("%s",pass);
   	if(strcmp("admin123",pass)==0)
   	{
       	do{
        	system("clear");
           	printf("************************************************************************************************************************\n\n");
        	printf("\t\t\tADMIN MAINTENANCE\n");
        	printf("\t\t1.Employee details\n\t\t2.Stock details\n\t\t3.Booking details\n\t\t4.Exit\n\t\tEnter your choice ---> ");
        	scanf("%d",&choice);
        	switch(choice)
        	{
            	case 1:emp();

             	for(i=0;i<1000;i++)
               	{
                	printf("...");
                	printf("\b\b\b");
               	}
                	break;
            	case 2:view();
   		 //system("clear");   	 
                	Abreak;
            	case 3:book();
   		 //system("clear");
                	break;
            	case 4:
   		 exit(0);
              	default:
   		 printf("\t\t\tInvalid choice\n");
   		 break;
         	 
        	}}while(1);
    if(choice==4)
        	{
              	for(i=0;i<1000;i++)
          	{
             	printf("...");
             	printf("\b\b\b");
          	}
             	return 0;
        	}
  	 
    }
     else
          	{
              	printf("\t\t\t\t\tINVALID PASSWORD\n\n");
   		 system("clear");
          	}

       	 
       	 

	}
	else if(strcmp(user,"manager")==0)
	{
          	printf("\t\t\t\t\tEnter password: ");
          	scanf("%s",pass);
          	if(strcmp("manager123",pass)==0)
          	{
           	printf("LOADING");
          	for(i=0;i<1000;i++)
          	{
             	printf("...");
             	printf("\b\b\b");
          	}
   	 
    do{
          	system("clear");
          	printf("************************************************************************************************************************\n");
          	printf("\t\t\tSHOWROOM MAINTENANCE\n");
          	printf("\t\t1.Employee details\n\t\t2.Stock details\n\t\t3.Booking details\n\t\t4.Exit\n\t\tEnter your choice ---> ");
          	scanf("%d",&choice);
         	         	 
            	switch(choice)
            	{
            	case 1:emp();
                	break;
            	case 2:view();
                	break;
            	case 3:book();
                	break;
   	 case 4:exit(0);
           	 
     	 default:
   		 printf("\t\t\tInvalid choice\n");
   		 break;
                          	}
            	/*printf("\t\t1.Employee details\n\t\t2.Stock details\n\t\t3.Booking details\n\t\t4.Exit");
            	scanf("%d",&choice);*/
          	}while(1);
          	if(choice==4)
          	{
             	return 0;
          	}
          	}
          	else
          	{
              	printf("\t\t\t\t\tINVALID PASSWORD\n\n");
   		 system("clear");
          	}
   	}
   	else if(emp_nsearch(user)==1)
   	{
    do{
          	system("clear");
          	printf("\t******************************************************************\n");
          	printf("\t\t\tSHOWROOM MAINTENANCE\n");
          	printf("\t\t1.Stock details\n\t\t2.Booking details\n\t\t3.Exit\n\t\tEnter your choice ---> ");
          	scanf("%d",&choice);
            	switch(choice)
            	{
            	case 1:view();
                	break;
            	case 2:book();
                	break;
   	 case 3:
   		 exit(0);
            	default:
   		 printf("\t\t\tInvalid choice\n");
   		 break;
            	}
          	}while(1);
          	if(choice==3)
          	{
             	return 0;
          	}
   	}
    else
    	{
          	printf("\n\n\t\t\t\tInvaid User\n");
   	 system("clear");
          	continue;
     	}

}
}

EMPLOYEE MODULE :

#include<stdio.h>
#include<string.h>
#include<stdlib.h>
struct employee
{
    char id[5],name[30],addr[50],phno[15];
    char doj[15],quali[25],desig[20];
    int sal,age;
}s1,m;

void emp_add()
{
    FILE *f;
    f=fopen("Employee.dat","ab");
    printf("\n\n\t\t\t\t-ADDING EMPLOYEE DETAILS-\n");
    printf("\nEnter the employee name : ");
    scanf("  %[^\n]s",m.name);
    printf("Enter the address : ");
    scanf("  %[^\n]s",m.addr);
    printf("Enter the phone number : ");
    scanf("  %[^\n]s",m.phno);
    printf("Enter the employee qualification : ");
    scanf("  %[^\n]s",m.quali);
    printf("Enter the date of joining : ");
    scanf("  %[^\n]s",m.doj);
    printf("Enter the designation : ");
    scanf("  %[^\n]s",m.desig);
    printf("Enter the employee age : ");
    scanf("%d",&m.age);
    printf("Enter the salary : ");
    scanf("%d",&m.sal);
    m.id[0]=m.name[2];
    m.id[1]=m.phno[4];
    m.id[2]=m.doj[0];
    m.id[3]=m.doj[1];
    m.id[4]='\0';
    fwrite(&m,sizeof(m),1,f);
    printf("\n\n\t\tEmployee Details Has Been Saved....");
    fclose(f);
}

void emp_read()
{
    FILE *f;
    char x;
    f=fopen("Employee.dat","rb");
    if(f==NULL)
    {
   	 printf("\nNo such file exits....");
   	 return;
    }
    printf("\n\n\t\t\t\t-DISPLAYING EMPLOYEE DETAILS-\n");
    fseek(f,0,SEEK_SET);
    if(fread(&s1,sizeof(s1),1,f)==0)
    {
   	 printf("\nNo Records to display....");
   	 return;
    }
    fseek(f,0,0);
    while(fread(&s1,sizeof(s1),1,f)>0)
    {
   	 printf("  	Id    	: %s\n",s1.id);
   	 printf(" 	Name   	: %s\n",s1.name);
   	 printf(" 	Age    	: %d\n",s1.age);
   	 printf("   Address  	: %s\n",s1.addr);
   	 printf("   Salary   	: %d\n",s1.sal);
   	 printf("  Phone No. 	: %s\n",s1.phno);
   	 printf("Date Of Joining : %s\n",s1.doj);
   	 printf("  Qualificaton  : %s\n",s1.quali);
   	 printf("  Designation   : %s\n\n\n",s1.desig);
    }
    scanf("%c",&x);
    fclose(f);
}

void emp_update()
{
    FILE *f;
    f=fopen("Employee.dat","rb+");
    if(f==NULL)
    {
   	 printf("\nNo such file exits....");
   	 return;
    }
    char id1[4];
    int fl=0;
    printf("\n\n\t\t\t\t-UPDATING EMPLOYEE DETAILS-\n");
    if(fread(&s1,sizeof(s1),1,f)==0)
    {   	 
   	 printf("\nNo records to be Searched...");
   	 return;
    }
    printf("\nEnter the id to UPDATE the details : ");
    scanf(" %s ",id1);
    fseek(f,0,0);
    while(fread(&s1,sizeof(s1),1,f)>0)
    {
   	 if(strcmp(id1,s1.id)==0)
   	 {
   		 
   		 printf("\n-The Details To Be Updated-\n");
   		 printf("  	Id    	: %s\n",s1.id);
   		 printf(" 	Name   	: %s\n",s1.name);
   		 printf(" 	Age    	: %d\n",s1.age);
   		 printf("   Address  	: %s\n",s1.addr);
   		 printf("   Salary   	: %d\n",s1.sal);
   		 printf("  Phone No. 	: %s\n",s1.phno);
   		 printf("Date Of Joining : %s\n",s1.doj);
   		 printf("  Designation   : %s\n",s1.desig);
   		 printf("  Qualificaton  : %s\n\n\n",s1.quali);    
   		 printf("\n-Enter the updated data-\n");
   		 printf("\nEnter the employee name : ");
   		 scanf("  %[^\n]s",m.name);
   		 printf("Enter the address : ");
   		 scanf("  %[^\n]s",m.addr);
   		 printf("Enter the phone number : ");
   		 scanf("  %[^\n]s",m.phno);
   		 printf("Enter the employee qualification : ");
   		 scanf("  %[^\n]s",m.quali);
   		 printf("Enter the date of joining : ");
   		 scanf("  %[^\n]s",m.doj);
   		 printf("Enter the designation : ");
   		 scanf("  %[^\n]s",m.desig);
   		 printf("Enter the employee age : ");
   		 scanf("%d",&m.age);
   		 printf("Enter the salary : ");
   		 scanf("%d",&m.sal);
   		 m.id[0]=m.name[2];
   		 m.id[1]=m.phno[4];
   		 m.id[2]=m.doj[0];
   		 m.id[3]=m.doj[1];
   		 m.id[4]='\0';
   		 fseek(f,-(sizeof(m)),SEEK_CUR);
   		 fwrite(&m,sizeof(m),1,f);
   		 fl=1;
   		 break;
   	 }
    }
    if(fl==0)
   	 printf("\nRecord not found....");
    else
   	 printf("\n\n\t\tEmployee Details Has Been Updated....");
    fclose(f);
}

void emp_delete()
{
    FILE *f,*k;
    f=fopen("Employee.dat","rb");
    if(f==NULL)
    {
   	 printf("\nNo such file exits....");
   	 return;
    }
    k=fopen("New.dat","wb");
    char id1[4];
    int fl=0;
    printf("\n\n\t\t\t\t-DELETING EMPLOYEE DETAILS-\n");
    if(fread(&s1,sizeof(s1),1,f)==0)
    {   	 
   	 printf("\nNo records to be Deleted...");
   	 return;
    }
    printf("\nEnter the id to DELETE the details : ");
    scanf("%s",id1);
    fseek(f,0,0);
    while(fread(&s1,sizeof(s1),1,f)>0)
    {
   	 if(strcmp(id1,s1.id)==0)
   	 {
   		 
   		 printf("\n-The Details To Be Deleted-\n");
   		 printf("  	Id    	: %s\n",s1.id);
   		 printf(" 	Name   	: %s\n",s1.name);
   		 printf(" 	Age    	: %d\n",s1.age);
   		 printf("   Address  	: %s\n",s1.addr);
   		 printf("   Salary   	: %d\n",s1.sal);
   		 printf("  Phone No. 	: %s\n",s1.phno);
   		 printf("Date Of Joining : %s\n",s1.doj);
   		 printf("  Designation   : %s\n",s1.desig);
   		 printf("  Qualificaton  : %s\n\n\n",s1.quali);
   		 fl=1;
   	 }
   	 else
   		 fwrite(&s1,sizeof(s1),1,k);
    }
    if(fl==0)
   	 printf("\nRecord not found....");
    else
   	 printf("\n\n\t\tEmployee Details Has Been Deleted....");
    fclose(f);
    fclose(k);
    remove("Employee.dat");
    rename("New.dat","Employee.dat");
}

void emp_search()
{
    FILE *f;
    f=fopen("Employee.dat","rb");
    if(f==NULL)
    {
   	 printf("\nNo such file exits....");
   	 return;
    }
    char id1[4];
    int fl=0;
    printf("\n\n\t\t\t\t-SEARCHING EMPLOYEE DETAILS-\n");
    if(fread(&s1,sizeof(s1),1,f)==0)
    {   	 
   	 printf("\nNo records to be Searched...");
   	 return;
    }
    printf("\nEnter the id to SEARCH the details : ");
    scanf("%s",id1);
    fseek(f,0,0);
    while(fread(&s1,sizeof(s1),1,f)>0)
    {
   	 if(strcmp(id1,s1.id)==0)
   	 {
   		 
   		 printf("\n-The Details Searched-\n");
   		 printf("  	Id    	: %s\n",s1.id);
   		 printf(" 	Name   	: %s\n",s1.name);
   		 printf(" 	Age    	: %d\n",s1.age);
   		 printf("   Address  	: %s\n",s1.addr);
   		 printf("   Salary   	: %d\n",s1.sal);
   		 printf("  Phone No. 	: %s\n",s1.phno);
   		 printf("Date Of Joining : %s\n",s1.doj);
   		 printf("  Designation   : %s\n",s1.desig);
   		 printf("  Qualificaton  : %s\n\n\n",s1.quali);
   		 fl=1;
   		 break;
   	 }
    }
    if(fl==0)
    {
   	 printf("\nEmployee not found....");
    }
}
int emp_nsearch(char id1[20])
{
    FILE *f;
    f=fopen("Employee.dat","rb");
    if(f==NULL)
   	 return -1;
    int fl=0;
    if(fread(&s1,sizeof(s1),1,f)==0)
    {   	 
   	 return -2;
    }
    fseek(f,0,0);
    while(fread(&s1,sizeof(s1),1,f)>0)
    {
   	 if(strcmp(id1,s1.id)==0)
   	 {
   		 fl=1;
   		 return 1;
   	 }
    }
    if(fl==0)
    {
   	 return 0;
    }
}
void emp()
{
    do{
   	 system("clear");
   	 int ch;
   	 char x;
   	 printf("*********************************************************************************************************************");
   	 printf("\n\t\t\tEMPLOYEE DETAILS\n");
   	 printf("\t\t1.Add Employee\n\t\t2.Employee Updation\n\t\t3.Employee List\n\t\t4.Delete Employee\n\t\t5.Search Employee\n\t\t6.Go back to Main Menu\n\t\t7.Exit");
   	 printf("\nEnter your choice : ");
   	 scanf("%d",&ch);
   	 switch(ch)
   	 {
   		 case 1:
   			 emp_add();
   			 scanf("%c",&x);
   	 	break;
   		 case 2:
   			 emp_update();
   			 scanf("%c",&x);
   	 	break;
   		 case 3:
   			 emp_read();
   			 //scanf("%c",&x);
   			 getchar();
   	 	break;
   		 case 4:
   			 emp_delete();
   			 scanf("%c",&x);
   	 	break;
   		 case 5:
   			 emp_search();
   			 scanf("%c",&x);
   		 break;
   		 case 6:
   			 return;
   		 case 7:
   			 exit(0);
   		 default:
   			 printf("Invalid input");
   	 }

    }while(1);
}







STOCK MODULE :

#include<stdio.h>
#include<stdlib.h>
//#include<conio.h>
char c;
int stock();
int availability(int );

int price(int id);
void newstock(int id,int n);

void stockupdate(int id);
void view()
{
	do{

	system("clear");
	int ch,id,n;
	printf("******************************************************");
	printf("\n\t\t\t\t****STOCK DETAILS****\n");
	printf("\n\t\t\t1.Stock details\n\t\t\t2.New stock\n\t\t\t3.Go to main menu\n\t\t\t4.Exit\n\t\tEnter your choice ---> ");
    	scanf("%d",&ch);

	switch(ch)
    	{
        	case 1:stock();
            	break;
        	case 2:printf("enter the id and no of stock to be updated: ");
            	scanf("%d %d",&id,&n);
            	newstock(id,n);
            	break;
        	case 3:return;
        	case 4:exit(0);
        	default:printf("Invalid Input");

    	}
	}while(1);
}
int stock(){
	char buff[2555];
	int p,av,id=1;
	FILE *model,*price,*avail;
	model=fopen("model.txt","r");
	price=fopen("price.txt","r");
	avail=fopen("avail.txt","r");
	printf("\n***********STOCK DETAILS***********\n");
	printf("ID\tMODEL\tPRICE\tAvailablity\n");
	while(fscanf(model,"%s",buff)!=EOF&&fscanf(price,"%d",&p)&&fscanf(avail,"%d",&av)!=EOF)
	{
    	printf("%d\t%s\t%d\t  %d\n",id++,buff,p,av);

	}
	fclose(model);
	fclose(price);
	fclose(avail);
	printf("Enter a key to return back\n");
	scanf(" %c",&c);
	return 0;
}
int availability(int id)
{
	int av;
	FILE *model,*price,*avail;
	model=fopen("model.txt","r");
	price=fopen("price.txt","r");
	avail=fopen("avail.txt","r");
	fseek(avail,id*2-2,SEEK_SET);
	fscanf(avail,"%d",&av);
	fclose(model);
	fclose(price);
	fclose(avail);
	printf("Enter a key to return back\n");
	scanf("%c",&c);

	return av;
}
void stockupdate(int id)
{
	int av,a[100],i=0,l;
	FILE *model,*price,*avail;
	avail=fopen("avail.txt","r");
	fseek(avail,0,SEEK_SET);
	while(fscanf(avail,"%d",&av)!=EOF){
    	a[i++]=av;
	}
	l=i;
	a[id-1]--;
	fclose(avail);
	avail=fopen("avail.txt","w");
	for(i=0;i<l;i++)
	{
     	fprintf(avail,"%d ",a[i]);
	}
   // printf("%d",i);
 	fclose(avail);
 }
int price(int id)
{
	int av,i=0,a[100];
	FILE *model,*price,*avail;
	model=fopen("model.txt","r");
	price=fopen("price.txt","r");
	avail=fopen("avail.txt","r");
	while(fscanf(price,"%d",&av)!=EOF){
    	a[i++]=av;
	}
	av=a[id-1];
	fseek(price,0,SEEK_SET);
	fclose(model);
	fclose(price);
	fclose(avail);
	return av;
}
void newstock(int id,int n)
{
	int av,a[100],i=0,l;
	FILE *model,*price,*avail;
	avail=fopen("avail.txt","r");
	fseek(avail,0,SEEK_SET);
	while(fscanf(avail,"%d",&av)!=EOF){
    	a[i++]=av;
	}
	l=i;
   a[id-1]=a[id-1]+n;
	fclose(avail);
	avail=fopen("avail.txt","w");
	for(i=0;i<l;i++)
	{
     	fprintf(avail,"%d ",a[i]);
	}
   // printf("%d",i);
 	fclose(avail);
 }
BOOKING MODULE :


#include<stdio.h>
#include<stdlib.h>
#include<string.h>
//#include "stock.h"
#ifndef BOOKING_H_INCLUDED
#define BOOKING_H_INCLUDED
int count=1;
struct book{
	char cus_id[5],cus_name[100],cus_add[150],ph_no[10],type[10];
	int rate;
	int model;
}s,a,b,t,r;
void display();
void del();
void add();
//void payment(int);
int book();
int book()
{
	int b_c;
	do{
    system("clear");
   	printf("************************************************************************************************************************\n\n");
	printf("\n\t\t\tCUSTOMER  BOOKING");
	printf("\n1-View booking details\n2-Add a booking detail\n3-Delete a booking detail\n4-Go to main menu\n5-Exit\n\t\tEnter your choice ---> ");
	scanf("%d",&b_c);
	switch(b_c)
	{
	case 1:
    	{
        	display();
        	break;
	}
	case 2:
    	{
        	add();
        	break;
    	}
	case 3:
    	{
        	del();
        	break;
    	}
	case 4:
    	{
        	return 0;
        	break;
    	}
	case 5:
    	{
        	exit (1);
        	break;
    	}
	default:
    	printf("\n Invalid Input");
    	break;
	}

}while(1);
return 0;
}
void display()
{
//bk t;
	int n;
	printf("Enter\n1.All the customer details\n2.Specific customer details\n");
	scanf("%d",&n);
	FILE *fp=fopen("booking.dat","rb+");

	switch(n)
	{
	case 1:
    	fseek(fp, 0, SEEK_SET);
    	printf("ID\t NAME\t ADDRESS\t PHONE NO.\t TYPE\t RATE\t MODEL ID\n");
     	while(fread(&t,sizeof(t),1,fp)>0)
     	{
        	printf("\n%s\t %s\t %s\t\t %10s\t %s\t %d\t %d",t.cus_id,t.cus_name,t.cus_add,t.ph_no,t.type,t.rate,t.model);
     	}

   	break;

	case 2:
	printf("\n Enter customer id:");
	char id[5];
   	scanf("  %[^\n]s  ",id);
    	char *temp;
    	int f=1;

      	fseek(fp, 0, SEEK_SET);

          	while(fread(&t,sizeof(t),1,fp)>0)
                	{
                    	if(strcmp(t.cus_id,id)==0)
                    	{
  printf("ID\t NAME\t ADDRESS\t PHONE NO.\t TYPE\t RATE\t MODEL ID\n");

         	printf("\n%s\t %s\t %s\t\t %10s\t %s\t %d\t %d",t.cus_id,t.cus_name,t.cus_add,t.ph_no,t.type,t.rate,t.model);
                       	f=0;
                       	break;
                    	}
                	}
	if(f==1)
    	printf("\n Record not found");


        	break;
	}
	fclose(fp);
    printf("\nEnter a key to exit\n");
    scanf("%d",&n);
}
void add()
{
	int f=0;
	FILE *fp=fopen("booking.dat","ab");
	if(fp==NULL)
	{
    	printf("error opening file\n");
	}
	else
	{
    	printf("\nEnter customer id: ");
    	scanf("  %[^\n]s",b.cus_id);
    	printf("Enter customer name: ");
    	scanf("  %[^\n]s",b.cus_name);
    	printf("Enter customer address: ");
    	scanf("   %[^\n]s",b.cus_add);
    	printf("Enter customer phone number: ");
    	scanf("  %[^\n]s",b.ph_no);
    	printf("Enter model ID: ");
    	scanf("  %d",&b.model);
    	b.rate=price(b.model);
    	printf("Enter the type of payment: ");
   	scanf("  %[^\n]s",b.type);

    	fwrite(&b,sizeof(b),1,fp);
	}
	fclose(fp);

}

void del()
{
    FILE *f,*k;
    f=fopen("booking.dat","rb");
    if(f==NULL)
    {
   	 printf("\nNo such file exits....");
   	 return;
    }
    k=fopen("New.dat","wb");
    char id[4];
    int fl=0;
//    printf("\n\n\t\t\t\t-DELETING EMPLOYEE DETAILS-\n");
    printf("\nEnter the id to DELETE the details : ");
    scanf("%s",id);
    fseek(f,0,0);
    while(fread(&s,sizeof(s),1,f)>0)
    {
   	 if(strcmp(id,s.cus_id)==0)
   	 {

   		 printf("\n-The Details To Be Deleted-\n");
   		 printf("  	Id    	: %s\n",s.cus_id);
   		 printf(" 	Name   	: %s\n",s.cus_name);
   		 printf("   Address  	: %s\n",s.cus_add);
   		 printf("  Phone No. 	: %s\n",s.ph_no);
   		 printf("	Type    	: %s\n",s.type);
   		 fl=1;
   	 }
   	 else
   		 fwrite(&s,sizeof(s),1,k);
    }
    if(f==0)
   	 printf("\nRecord not found....");
    else
   	 printf("\n\n\t\tCustomer Details Has Been Deleted....");
    fclose(f);
    fclose(k);
    remove("booking.dat");
    rename("New.dat","booking.dat");
}
#endif // BOOKING_H_INCLUDED




